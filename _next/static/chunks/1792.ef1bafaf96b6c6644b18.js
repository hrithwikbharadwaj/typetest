(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1792],{90646:function(e,n,t){"use strict";t.d(n,{G:function(){return s}});var i=t(87462),o=t(67294),r=t(31322),s=o.forwardRef((function(e,n){return o.createElement(r.r,(0,i.Z)({iconAttrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),o.createElement("line",{x1:7,x2:17,y1:17,y2:7}),o.createElement("polyline",{points:"7 7 17 7 17 17"}))}));s.displayName="ArrowUpRight"},59806:function(e,n,t){"use strict";t.d(n,{r:function(){return s}});var i=t(87462),o=t(67294),r=t(31322),s=o.forwardRef((function(e,n){return o.createElement(r.r,(0,i.Z)({iconAttrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),o.createElement("polyline",{points:"3 6 5 6 21 6"}),o.createElement("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}))}));s.displayName="Trash"},91792:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var i=t(67294),o=t(78872),r=t(87462),s=t(31322),u=i.forwardRef((function(e,n){return i.createElement(s.r,(0,r.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 50 50"},e,{ref:n}),i.createElement("path",{d:"M38.288 10.297l1.414 1.415-14.99 14.99-1.414-1.414z"}),i.createElement("path",{d:"M40 20h-2v-8h-8v-2h10zM35 38H15c-1.7 0-3-1.3-3-3V15c0-1.7 1.3-3 3-3h11v2H15c-.6 0-1 .4-1 1v20c0 .6.4 1 1 1h20c.6 0 1-.4 1-1V24h2v11c0 1.7-1.3 3-3 3z"}))}));u.displayName="ExternalLink";var l=t(59806),c=t(88053),a=t(20905),d=t(9921),g=t.n(d),v=t(74669),p=t.n(v),f=t(92809),_=t(10219),h=t(94184),m=t.n(h),w=t(38817),x=t.n(w),M=t(85893),j=["className"],N=["className"];function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){var n=e.className,t=(0,_.Z)(e,j);return(0,M.jsx)("div",C(C({},t),{},{className:m()(n,x().MenuItem)}))},b=function(e){var n=e.className,t=(0,_.Z)(e,N);return(0,M.jsx)("div",C(C({},t),{},{className:m()(n,x().MenuItemContainer)}))},L=t(89447),y=t(75511),I=t(37101),E=function(){var e=(0,o.ui)(),n=(0,i.useRef)(),t=(0,i.useState)(!1),r=t[0],s=t[1],d=(0,i.useState)(!1),v=d[0],f=d[1],_=(0,i.useState)(""),h=_[0],m=_[1],w=(0,i.useState)(!1),x=w[0],j=w[1],N=(0,i.useState)(null),D=N[0],C=N[1],E=(0,i.useState)(null),O=E[0],T=E[1],Z=(0,i.useContext)(L.Z),A=Z.pagesPaths,P=Z.getURL,S=Z.getEditorURL,B=(0,i.useMemo)((function(){var e;return null!==O&&void 0!==O&&O[a.Q_.INTERNAL_LINK]&&A?null===(e=A[null===O||void 0===O?void 0:O[a.Q_.PAGE_ID]])||void 0===e?void 0:e.name:void 0}),[O]),z=(0,i.useMemo)((function(){return S(O)}),[O]),V=(0,I.Z)(h),R=V.suggestions,H=V.suggestionIndex,F=V.setsuggestions,K=V.setsuggestionIndex,Q=V.getInsertLink,G=V.onSuggestionKeydown;(0,i.useEffect)((function(){if(e.selection){var n=c.Z.getElement(e);if(T(n),n.type===a.bF.LINK){var t=P(n);s(!0),m(t),j(null===n||void 0===n?void 0:n[a.Q_.OPEN_IN_NEW_TAB]),C(e.selection)}else s(!1),m(""),j(!1),C(null),K(0),F([]),f(!1)}}),[e.selection]);var q=function(n,t){var i,o=n?null:h;c.Z.changeLink(e,null===D||void 0===D?void 0:D.focus.path,n,o,null===t||void 0===t?void 0:t.id,"/".concat(null===t||void 0===t||null===(i=t.path)||void 0===i?void 0:i.join("/"))),s(!1),m(""),j(!1),K(0),F([]),f(!1)};return r?(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"is-flex is-align-items-center",children:[(0,M.jsxs)("div",{className:g().container,children:[(0,M.jsx)("input",{ref:n,className:g().input,type:"text",value:h,onChange:function(e){m(e.target.value),f(!0)},onKeyDown:function(e){if(G(e),"Enter"===e.key&&(e.preventDefault(),h)){var n=Q(),t=n.internal,i=n.selectedPage;q(t,i)}}}),(null===O||void 0===O?void 0:O.url)&&(0,M.jsx)("div",{className:"with-lighter-text-color is-size-7 ml-2",children:null!==O&&void 0!==O&&O[a.Q_.INTERNAL_LINK]&&B?"Page: ".concat(B):"External Link"})]}),(0,M.jsxs)(b,{children:[(0,M.jsx)(k,{children:(0,M.jsx)("a",{href:z,target:"_new",children:(0,M.jsx)(u,{size:25,className:g().icon})})}),(0,M.jsx)(k,{children:(0,M.jsx)(l.r,{size:20,className:g().icon,onClick:function(){c.Z.removeLink(e,D),s(!1),m(""),C(null),j(!1),K(0),F([]),f(!1)}})})]})]}),(0,M.jsx)("hr",{className:p().hr}),(null===O||void 0===O?void 0:O.url)&&(0,M.jsxs)("div",{className:"p-1 pt-0 is-flex is-align-items-center is-justify-content-space-between",children:[(0,M.jsx)("div",{className:"with-lighter-text-color is-size-7 ml-2",children:"Open in new tab"}),(0,M.jsxs)("div",{className:p().switchContainer,children:[(0,M.jsx)("input",{id:"publish-".concat(null===O||void 0===O?void 0:O.id),type:"checkbox",name:"publish",className:"switch is-rounded is-small is-primary",checked:x,onChange:function(){var n=!x;j(n),c.Z.changeLinkOpenInNewTab(e,null===D||void 0===D?void 0:D.focus.path,n)},disabled:!O},"publish-".concat(null===O||void 0===O?void 0:O.id)),(0,M.jsx)("label",{htmlFor:"publish-".concat(null===O||void 0===O?void 0:O.id)})]})]}),(0,M.jsx)("div",{className:"pl-2 pr-2",children:h&&v&&(0,M.jsx)(y.Z,{url:h,suggestionIndex:H,suggestions:R,insertLink:q})})]}):(0,M.jsx)(M.Fragment,{})}},75511:function(e,n,t){"use strict";var i=t(92809),o=t(67294),r=t(94184),s=t.n(r),u=t(90646),l=t(7515),c=t.n(l),a=t(74669),d=t.n(a),g=t(85893),v=function(e){var n=e.url,t=e.suggestions,o=e.suggestionIndex,r=e.insertLink;return(0,g.jsxs)("div",{className:s()("mb-2 mt-2",c().suggestions),children:[(0,g.jsxs)("div",{className:s()("mb-1",c().suggestion,(0,i.Z)({},c().suggestionHovered,0===o)),role:"none",onClick:function(){r(!1,null)},children:[(0,g.jsx)("div",{className:"with-text-color is-size-7",children:n}),(0,g.jsxs)("div",{className:"with-lighter-text-color mt-1 is-size-7",children:[(0,g.jsx)(u.G,{size:15}),"External Link"]})]}),t&&(null===t||void 0===t?void 0:t.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("hr",{className:d().hr}),(0,g.jsx)("div",{className:"with-lighter-text-color ml-2 mt-2 is-size-7",children:"Link to page"}),t.map((function(e,n){return(0,g.jsxs)("div",{className:s()("mb-1",c().suggestion,(0,i.Z)({},c().suggestionHovered,n+1===o)),role:"none",onClick:function(){r(!0,e)},children:[(0,g.jsx)("div",{className:"with-text-color is-size-7",children:e.name}),(0,g.jsxs)("div",{className:"with-lighter-text-color is-size-7",children:["/",e.path.join("/")]})]})}))]})]})};n.Z=o.memo(v)},37101:function(e,n,t){"use strict";var i=t(67294),o=t(6890),r=t(38334),s=t(89447);n.Z=function(e){var n=(0,i.useContext)(s.Z).pagesPaths,t=(0,i.useState)(0),u=t[0],l=t[1],c=(0,i.useState)([]),a=c[0],d=c[1];return(0,i.useEffect)((function(){if(!e||(null===e||void 0===e?void 0:e.length)<=0||!n)d([]);else{var t=Object.values(n).filter((function(n){var t,i,o=e.toLowerCase(),r="/".concat(n.path.join("/"));return(null===n||void 0===n||null===(t=n.name)||void 0===t||null===(i=t.toLowerCase())||void 0===i?void 0:i.includes(o))||r.toLowerCase().includes(o)}));d(t)}}),[e]),{suggestionIndex:u,setsuggestionIndex:l,suggestions:a,setsuggestions:d,getInsertLink:function(){return{internal:u>0,selectedPage:u>0?null===a||void 0===a?void 0:a[u-1]:null}},onSuggestionKeydown:function(e){if((0,o.iA)(e)||(0,o.qc)(e)){if(!a||a.length<=0)return;e.preventDefault(),l((function(n){return(0,o.iA)(e)?(0,r.Wu)((null===a||void 0===a?void 0:a.length)+1,n):(0,r.Go)((null===a||void 0===a?void 0:a.length)+1,n)}))}}}}},9921:function(e){e.exports={container:"LinkMenu_container__3ftWP",input:"LinkMenu_input__2qsN-",icon:"LinkMenu_icon__11Z1O"}},38817:function(e){e.exports={Menu:"Menu_Menu__jf5sY",MenuSection:"Menu_MenuSection__1tGFQ",MenuSectionVertical:"Menu_MenuSectionVertical__3FOcy",MenuItem:"Menu_MenuItem__2H_Xc",MenuItemContainer:"Menu_MenuItemContainer__13Mdu",MenuDropdownTrigger:"Menu_MenuDropdownTrigger__38ri7",MenuDropdownTriggerActive:"Menu_MenuDropdownTriggerActive__2ktYZ",MenuDropdownTriggerButton:"Menu_MenuDropdownTriggerButton__3pG_L",MenuDropdownTriggerButtonHoverable:"Menu_MenuDropdownTriggerButtonHoverable__1hqUx",MenuDropdownTriggerIcon:"Menu_MenuDropdownTriggerIcon__2NmmX",MenuDropdownTriggerNoBorder:"Menu_MenuDropdownTriggerNoBorder__2un8P",MenuDropdownTriggerNoBorderDefault:"Menu_MenuDropdownTriggerNoBorderDefault__1Ku1j",MenuDropdownTriggerNoBorderText:"Menu_MenuDropdownTriggerNoBorderText__3BYVo",MenuDropdownContainer:"Menu_MenuDropdownContainer__RcIgl",MenuDropdownContainerActive:"Menu_MenuDropdownContainerActive__1Of2u",MenuDropdownContentContainer:"Menu_MenuDropdownContentContainer__FjQQ4",MenuDropdownItem:"Menu_MenuDropdownItem__1Tzn6",MenuDropdownContentContainerActive:"Menu_MenuDropdownContentContainerActive__1qr0y",MenuDropdownContentContainerPadding:"Menu_MenuDropdownContentContainerPadding__3IF-f"}},7515:function(e){e.exports={suggestion:"LinkSuggestions_suggestion__1RrpL",suggestionHovered:"LinkSuggestions_suggestionHovered__3Kt88"}}}]);